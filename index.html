<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>TikTok-like Video Player</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      background-color: #000000;
      margin: 0;
      padding: 0;
    }
    #video-container {
      margin: 20px auto;
      width: 100%; /* Full width */
      max-width: 400px; /* Set maximum width for better responsiveness */
      height: calc(400px * 16 / 9); /* 9:16 aspect ratio */
      overflow: hidden;
      position: relative;
      border: 1px solid #000000;
    }
    video {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform 0.3s ease-in-out; /* Adding transition effect */
    }
    button {
      padding: 10px 20px;
      font-size: 16px;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <h1>TikTok-like Video Player</h1>
  <button onclick="window.location.href='all.html'">All Of My Memems</button>
  <div id="video-container">
    <video id="video-player" autoplay controls></video>
  </div>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3788774762807047" crossorigin="anonymous"></script>

  <script>
        const videoFiles = [
  'videos/0AAA4D94-6A57-4DF5-AC12-7EB8458868F2.mp4',
  'videos/0A52EC54-7EDD-4300-8BF1-C4E191AA6CB5.mp4',
  'videos/000B18FD-3777-45B6-813D-0CBFF2DCBA29.mp4',
  'videos/1A99E7BB-26EC-4806-86F8-BA71866EACB1.mp4',
  'videos/1FA2FF76-73C6-40B9-9275-E6B29D81FABB.mp4',
  'videos/2FC8B884-A10E-4DC8-97C6-FED9049592E2.mp4',
  'videos/3D1D3B0B-92D7-4EEC-94DF-5E7622EBF75D.mp4',
  'videos/4EkUWLh9lxDzZooIA90j.576x576.mp4',
  'videos/4ksuPsqZPTkd0fkLjL51.576x1024.mp4',
  'videos/4mXBiwaVc24hkvBxoOOO.576x1024.mp4',
  'videos/5A511FF7-53F2-4A3A-A32B-4E0460808F47.mp4',
  'videos/5FE53F5F-F225-4131-AF84-8486B0413C52.mp4',
  'videos/6E46E54E-9850-4AB7-A9E0-781D6B827661.mp4',
  'videos/6EC4AC30-9078-43C0-BEED-EA027A2723EC.mp4',
  'videos/6EC87E59-C102-44A7-A0AC-D59EBB539709.mp4',
  'videos/7EE2709B-1E7E-4800-8B63-2872E68D3C9D.mp4',
  'videos/7FEA1B99-9851-481D-814B-A776076E647E.mp4',
  'videos/7FF9A310-6BBD-4C34-9417-5CDA84D637E3.mp4',
  'videos/8A6B8A79-1FF9-4205-8C0D-AD4772617E2B.mp4',
  'videos/8lzExGM72ilIQgxIs1HS.576x1024.mp4',
  'videos/9DBFE44C-7BF3-42A1-A8DE-037778BA2675.mp4',
  'videos/9FAFC881-70E8-4BA3-B92B-FE8FDCDBF54E.mp4',
  'videos/9FF941E0-17B6-4ABA-89F2-F83A80F41FA2.mp4',
  'videos/9lDJ89zulzMtX5xirfzG.576x1024.mp4',
  'videos/9ppCxdzr18PwWbVv9Evj.576x848.mp4',
  'videos/12A82B3A-0B47-42EF-B629-87D11DC7003E.mp4',
  'videos/15jniAlMG8sGJRJwqWHd.576x1024.mp4',
  'videos/40A33A80-4020-4950-98AE-C022F35B3EDF.mp4',
  'videos/43F0149B-AF73-49F8-BD90-7986B365D29D.mp4', 
  'videos/49ECB565-BD3A-44CE-8F8A-08A595479186.mp4',
  'videos/60F58D1A-A45C-4FDF-B234-A392A83AFB23.mp4',
  'videos/061BACEC-31B7-45AF-83E1-11997E9764E4.mp4',
  'videos/71E74239-70BD-4C9B-89CA-7632772454EA.mp4',
  'videos/72CF8BBE-E319-4A99-A8CE-339B4C091923.mp4',
  'videos/76FAD73B-F5F8-44F8-9172-E7CE81162E30.mp4',
  'videos/84BA59F1-DB31-4192-BB4B-B40C0CBE6EF2.mp4',
  'videos/96F10C22-D642-47E6-BA56-6C3788FEC91F-1.mp4',
  'videos/168C16EF-C0E2-4D1C-85ED-D3FE359304DD.mp4',
  'videos/304i1Gn98d6YEWvGQaVp.540x962.mp4',
  'videos/497F169F-91BB-4FEE-8DBE-4382A984CA9A.mp4',
  'videos/553D34CF-696B-4636-947D-095728A261DB.mp4',
  'videos/742DE23C-0D97-416E-B20D-7CC18D4844CA.mp4',
  'videos/890A1318-A18E-4175-BD40-C45520BF166F.mp4',
  'videos/988h5OxqVlD0ZS1CF7hN.576x1024.mp4',
  'videos/02881D1B-6321-43FE-9A0D-6E412C1957E8.mp4',
  'videos/7956BDD9-3489-467D-A95C-2E85DD716BFE.mp4',
  'videos/18944ABF-0311-4684-A991-E9D87974E20F.mp4',
  'videos/4614762E-52EC-4EF0-9FF3-F7ABBCC0D857.mp4',
  'videos/8285088D-7569-49E8-AA62-3AD9A52243D6.mp4',
  'videos/A2EC48C8-EC94-42E3-9625-19B8265BC061.mp4',
  'videos/A87F9109-0E63-444C-A315-44ADABA0AD16.mp4',
  'videos/A956B0BD-1AE8-41AE-A8EB-8551B6C422B6.mp4',
  'videos/A973D57B-C44A-4C93-81A6-B84AAEF1FA94.mp4',
  'videos/A770219C-A714-406D-8379-572CDE9E1ACB.mp4',
  'videos/AC376D51-B901-4524-8784-EED739A01325.mp4',
  'videos/AF4A8DC2-0B6E-41DB-B6D6-10DD051698CB.mp4',
  'videos/AFC1B955-E588-46B2-9510-F92ED84E90D0.mp4',
  'videos/AnGHm3BplMnGFj2b77ag.576x768.mp4',
  'videos/azBtLau3hkqwG5DOx6Wa.576x1024.mp4.mp4',
  'videos/B5AD329E-A5FE-4E44-AAB1-747E22392674.mp4',
  'videos/B973C770-64F9-44B7-8FEC-D8385E2561C8.mp4',
  'videos/BB995E6F-4326-404B-A748-9FE724E1059D.mp4',
  'videos/BE3F66A3-EDBB-4B5C-8AE5-ADA26CF629A8.mp4',
  'videos/C370FEA8-D5A7-4876-AAF5-2113409693E3.mp4',
  'videos/C1383BD8-2B07-41AD-82BF-40AAC85EF415.mp4',
  'videos/D5245ACC-BDF6-4B8F-8EC0-828CFFE17472.mp4',
  'videos/D90379EC-2385-411B-A325-6080C147B9F3.mp4',
  'videos/dc0VbjzC4Mr80RcL9LmB.576x1024.mp4',
  'videos/DD79DDAA-3048-4AE2-A435-06124CF505C4.mp4',
  'videos/E62E22FC-2EBC-4593-9C15-DAE017FFEC51.mp4',
  'videos/E86EAB2A-4C2B-407B-A523-3CDA147E897B.mp4',
  'videos/E897BEF9-1716-47A2-8E90-BA7774EA1815.mp4',
  'videos/E86928CA-CDE8-4181-8590-1045E023ED23.mp4',
  'videos/EF4962F9-3E3C-4362-9550-A2C9D8B0617C.mp4',
  'videos/EF5183CB-2B43-4280-B736-5CE2917A3C0A.mp4',
  'videos/Eu8A1jtnnv35eYE73hwZ.576x720.mp4',
  'videos/F1E9FC87-4961-4BF5-AC06-05BDA5191FF3.mp4',
  'videos/F4F58830-F304-46D3-82A6-2F92112181C5.mp4',
  'videos/F7C6D67F-496F-4D5A-87F4-A91C5D4918D5.mp4',
  'videos/F486CC17-0D82-43B8-A771-7F57E0A0D7BC.mp4',
  'videos/F037554A-1404-446A-83FF-150832C52D4F.mp4',
  'videos/F209471B-50F5-4C6D-BD5F-04F21D6238AE.mp4',
  'videos/F9157269-6602-48BB-BA83-3D2A91E34ABF.mp4',
  'videos/FaVLm39hrnDDtJgQI79P.576x1024.mp4',
  'videos/FFF820F9-D40A-4B39-AB5D-9869DEEDB97E.mp4',
  'videos/.mp4',
  // Add more video paths here as needed, each ending with a comma
];

let currentVideoIndex = -1;
let transitionDirection = '';
let watchedVideos = JSON.parse(localStorage.getItem('watchedVideos')) || [];

function playRandomVideo(direction) {
  const videoPlayer = document.getElementById('video-player');

  if (videoFiles.length === 0) {
    console.error('No memes found.');
    return;
  }

  // Check if all videos have been watched
  if (watchedVideos.length === videoFiles.length) {
    alert('New memes coming soon! Or Reload To watch Again');
    return;
  }

  let newIndex;

  if (direction === 'up') {
    newIndex = currentVideoIndex - 1;
    if (newIndex < 0) {
      newIndex = videoFiles.length - 1;
    }
    transitionDirection = 'prev';
  } else if (direction === 'down') {
    do {
      newIndex = Math.floor(Math.random() * videoFiles.length);
    } while (watchedVideos.includes(newIndex));
    transitionDirection = 'next';
    watchedVideos.push(newIndex);
    localStorage.setItem('watchedVideos', JSON.stringify(watchedVideos));
  } else if (direction === 'repeat') {
    newIndex = watchedVideos[watchedVideos.length - 1]; // Get the last watched index
    transitionDirection = 'prev'; // Play the previous video for a 'repeat' action
  }

  currentVideoIndex = newIndex;
  const randomVideoPath = videoFiles[currentVideoIndex];

  // Apply transition to slide the video
  if (transitionDirection === 'next') {
    videoPlayer.style.transform = 'translateX(100%)';
  } else if (transitionDirection === 'prev') {
    videoPlayer.style.transform = 'translateX(-100%)';
  }

  setTimeout(() => {
    videoPlayer.src = randomVideoPath;
    videoPlayer.onerror = function() {
      console.error('Error loading the video:', randomVideoPath);
      // Handle errors - display a message or try another video
    };
    videoPlayer.play();

    // Slide back the video after changing the source
    videoPlayer.style.transform = 'translateX(0)';
  }, 300); // Wait for the transition (300ms) before changing the video source
}

// Event listener for space bar key press
document.addEventListener('keydown', function(event) {
  if (event.code === 'Space') {
    playRandomVideo('down');
  } else if (event.code === 'KeyR') {
    playRandomVideo('repeat');
  }
});
// Event listener to reset local storage on page reload
window.onbeforeunload = function() {
  localStorage.removeItem('watchedVideos');
};
  </script>
</body>
</html>